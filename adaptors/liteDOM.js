(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{LiteElement:()=>f});var n={};t.r(n),t.d(n,{LiteDocument:()=>b});var r={};t.r(r),t.d(r,{LiteComment:()=>y,LiteText:()=>g});var s={};t.r(s),t.d(s,{LiteList:()=>w});var i={};t.r(i),t.d(i,{LiteParser:()=>M,PATTERNS:()=>L});var a={};t.r(a),t.d(a,{LiteWindow:()=>T});var o={};t.r(o),t.d(o,{LiteAdaptor:()=>E,LiteBase:()=>D,liteAdaptor:()=>I});const l=("undefined"!=typeof window?window:global).MathJax._.components.global,c=(l.GLOBAL,l.isObject,l.combineConfig,l.combineDefaults,l.combineWithMathJax),u=(l.MathJax,MathJax._.core.DOMAdaptor.AbstractDOMAdaptor),h=MathJax._.util.Options,d=(h.isObject,h.APPEND,h.REMOVE,h.OPTIONS,h.Expandable,h.expandable,h.makeArray,h.keys,h.copy,h.insert,h.defaultOptions),p=h.userOptions,m=(h.selectOptions,h.selectOptionsFromKeys,h.separateOptions,h.lookup,{badCSS:!0,badSizes:!0});class f{constructor(t,e={},n=[]){this.kind=t,this.attributes=Object.assign({},e),this.children=[...n];for(const t of this.children)t.parent=this;this.styles=null}}class b{get kind(){return"#document"}constructor(t=null){this.defaultView=null,this.root=new f("html",{},[this.head=new f("head"),this.body=new f("body")]),this.type="",this.defaultView=t}}class g{get kind(){return"#text"}constructor(t=""){this.value=t}}class y extends g{get kind(){return"#comment"}}class w{constructor(t){this.nodes=[],this.nodes=[...t]}append(t){this.nodes.push(t)}[Symbol.iterator](){let t=0;return{next(){return t===this.nodes.length?{value:null,done:!0}:{value:this.nodes[t++],done:!1}}}}}const x=MathJax._.util.Entities,k=(x.options,x.entities,x.add,x.remove,x.translate),A=(x.numeric,"[a-z][^\\s\\n>]*"),v="[a-z][^\\s\\n>=]*",S="(?:\\s|\\n)*",C=`${v}(?:${S}=${S}(?:'[^']*'|"[^"]*"|[^\\s\\n]+))?`,O=`(${v})(?:${S}=${S}(?:'([^']*)'|"([^"]*)"|([^\\s\\n]+)))?`,L={tag:new RegExp(`(<(?:${A}(?:(?:\\s|\\n)+${C})*${S}/?|/${A}|!--[^]*?--|![^]*?)(?:>|$))`,"i"),attr:new RegExp(C,"i"),attrsplit:new RegExp(O,"i")};class M{parseFromString(t,e="text/html",n=null){const r=n.createDocument();let s=n.body(r);const i=t.replace(/<\?.*?\?>/g,"").split(L.tag);for(;i.length;){const t=i.shift(),e=i.shift();t&&this.addText(n,s,t),e&&">"===e.charAt(e.length-1)&&("!"===e.charAt(1)?this.addComment(n,s,e):s="/"===e.charAt(1)?this.closeTag(n,s,e):this.openTag(n,s,e,i))}return this.checkDocument(n,r),r}addText(t,e,n){return n=k(n),t.append(e,t.text(n))}addComment(t,e,n){return t.append(e,new y(n))}closeTag(t,e,n){const r=n.slice(2,n.length-1).toLowerCase();for(;t.parent(e)&&t.kind(e)!==r;)e=t.parent(e);return t.parent(e)}openTag(t,e,n,r){const s=this.constructor.PCDATA,i=this.constructor.SELF_CLOSING,a=n.match(/<(.*?)[\s\n>/]/)[1].toLowerCase(),o=t.node(a),l=n.replace(/^<.*?[\s\n>]/,"").split(L.attrsplit);return(l.pop().match(/>$/)||l.length<5)&&(this.addAttributes(t,o,l),t.append(e,o),i[a]||n.match(/\/>$/)||(s[a]?this.handlePCDATA(t,o,a,r):e=o)),e}addAttributes(t,e,n){for(;n.length;){const[,r,s,i,a]=n.splice(0,5),o=k(s||i||a||"");t.setAttribute(e,r,o)}}handlePCDATA(t,e,n,r){const s=[],i="</"+n+">";let a="";for(;r.length&&a!==i;)s.push(a),s.push(r.shift()),a=r.shift();t.append(e,t.text(s.join("")))}checkDocument(t,e){const n=this.getOnlyChild(t,t.body(e));if(n){for(const r of t.childNodes(t.body(e))){if(r===n)break;r instanceof y&&r.value.match(/^<!DOCTYPE/)&&(e.type=r.value)}switch(t.kind(n)){case"html":for(const r of n.children)switch(t.kind(r)){case"head":e.head=r;break;case"body":e.body=r}e.root=n,t.remove(n),t.parent(e.body)!==n&&t.append(n,e.body),t.parent(e.head)!==n&&t.insert(e.head,e.body);break;case"head":e.head=t.replace(n,e.head);break;case"body":e.body=t.replace(n,e.body)}}}getOnlyChild(t,e){let n=null;for(const r of t.childNodes(e))if(r instanceof f){if(n)return null;n=r}return n}serialize(t,e,n=!1){const r=this.constructor.SELF_CLOSING,s=t.kind(e),i=this.allAttributes(t,e,n).map((t=>t.name+'="'+this.protectAttribute(t.value,n)+'"')).join(" "),a=this.serializeInner(t,e,n);return`<${s}`+(i?" "+i:"")+(n&&!a||r[s]?n?"/>":">":`>${a}</${s}>`)}serializeInner(t,e,n=!1){const r=this.constructor.PCDATA;return Object.hasOwn(r,e.kind)?t.childNodes(e).map((e=>t.value(e))).join(""):t.childNodes(e).map((e=>{const r=t.kind(e);return"#text"===r?this.protectHTML(t.value(e)):"#comment"===r?e.value:this.serialize(t,e,n)})).join("")}allAttributes(t,e,n){const r=t.allAttributes(e);if(!n)return r;const s=t.kind(e),i=this.constructor.XMLNS;if(!Object.hasOwn(i,s))return r;for(const{name:t}of r)if("xmlns"===t)return r;return r.push({name:"xmlns",value:i[s]}),r}protectAttribute(t,e){return"string"!=typeof t&&(t=String(t)),t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),e&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t}protectHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}M.SELF_CLOSING={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},M.PCDATA={option:!0,textarea:!0,fieldset:!0,title:!0,style:!0,script:!0},M.XMLNS={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML",html:"http://www.w3.org/1999/xhtml"};class T{constructor(){this.DOMParser=M,this.NodeList=w,this.HTMLCollection=w,this.HTMLElement=f,this.DocumentFragment=w,this.Document=b,this.document=new b(this)}}const j=MathJax._.util.Styles,z=(j.TRBL,j.WSC,j.Styles),$=MathJax._.util.AsyncLoad.asyncLoad;var P=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((r=r.apply(t,e||[])).next())}))};class D extends u{constructor(){super(),this.parser=new M,this.window=new T}parse(t,e){return this.parser.parseFromString(t,e,this)}create(t,e=null){return new f(t)}text(t){return new g(t)}comment(t){return new y(t)}createDocument(){return new b}head(t=this.document){return t.head}body(t=this.document){return t.body}root(t=this.document){return t.root}doctype(t=this.document){return t.type}tags(t,e,n=null,r=null){let s=[];const i=[];if(n)return i;let a=t;for(;a;){const t=a.kind;if("#text"!==t&&"#comment"!==t){if(t===e&&(i.push(a),i.length===r))return i;a.children.length&&(s=a.children.concat(s))}a=s.shift()}return i}elementById(t,e){let n=[],r=t;for(;r;){if("#text"!==r.kind&&"#comment"!==r.kind){if(r.attributes.id===e)return r;r.children.length&&(n=r.children.concat(n))}r=n.shift()}return null}elementsByClass(t,e,n=null){let r=[];const s=[];let i=t;for(;i;){if("#text"!==i.kind&&"#comment"!==i.kind){if((i.attributes.class||"").trim().split(/ +/).includes(e)&&(s.push(i),s.length===n))return s;i.children.length&&(r=i.children.concat(r))}i=r.shift()}return s}elementsByAttribute(t,e,n,r=null){let s=[];const i=[];let a=t;for(;a;){if("#text"!==a.kind&&"#comment"!==a.kind){if(a.attributes[e]===n&&(i.push(a),i.length===r))return i;a.children.length&&(s=a.children.concat(s))}a=s.shift()}return i}getElements(t,e){let n=[];const r=this.body(e);for(const e of t)if("string"==typeof e)if("#"===e.charAt(0)){const t=this.elementById(r,e.slice(1));t&&n.push(t)}else if("."===e.charAt(0))n=n.concat(this.elementsByClass(r,e.slice(1)));else if(e.match(/^[-a-z][-a-z0-9]*$/i))n=n.concat(this.tags(r,e));else{const t=e.match(/^\[(.*?)="(.*?)"\]$/);t&&(n=n.concat(this.elementsByAttribute(r,t[1],t[2])))}else Array.isArray(e)?n=n.concat(e):e instanceof this.window.NodeList||e instanceof this.window.HTMLCollection?n=n.concat(e.nodes):n.push(e);return n}getElement(t,e=this.document){if(e instanceof b&&(e=this.body(e)),"#"===t.charAt(0))return this.elementById(e,t.slice(1));if("."===t.charAt(0))return this.elementsByClass(e,t.slice(1),1)[0];if(t.match(/^[-a-z][-a-z0-9]*$/i))return this.tags(e,t,null,1)[0];const n=t.match(/^\[(.*?)="(.*?)"\]$/);return n?this.elementsByAttribute(e,n[1],n[2],1)[0]:null}contains(t,e){for(;e&&e!==t;)e=this.parent(e);return!!e}parent(t){return t.parent}childIndex(t){return t.parent?t.parent.children.findIndex((e=>e===t)):-1}append(t,e){return e.parent&&this.remove(e),t.children.push(e),e.parent=t,e}insert(t,e){if(t.parent&&this.remove(t),e&&e.parent){const n=this.childIndex(e);e.parent.children.splice(n,0,t),t.parent=e.parent}}remove(t){const e=this.childIndex(t);return e>=0&&t.parent.children.splice(e,1),t.parent=null,t}replace(t,e){const n=this.childIndex(e);return n>=0&&(e.parent.children[n]=t,t.parent=e.parent,e.parent=null),e}clone(t,e=!0){const n=new f(t.kind);return n.attributes=Object.assign({},t.attributes),n.children=e?t.children.map((t=>{if("#text"===t.kind)return new g(t.value);if("#comment"===t.kind)return new y(t.value);{const e=this.clone(t);return e.parent=n,e}})):[],n}split(t,e){const n=new g(t.value.slice(e));return t.value=t.value.slice(0,e),t.parent.children.splice(this.childIndex(t)+1,0,n),n.parent=t.parent,n}next(t){const e=t.parent;if(!e)return null;const n=this.childIndex(t)+1;return n>=0&&n<e.children.length?e.children[n]:null}previous(t){const e=t.parent;if(!e)return null;const n=this.childIndex(t)-1;return n>=0?e.children[n]:null}firstChild(t){return t.children[0]}lastChild(t){return t.children[t.children.length-1]}childNodes(t){return[...t.children]}childNode(t,e){return t.children[e]}kind(t){return t.kind}value(t){return"#text"===t.kind?t.value:"#comment"===t.kind?t.value.replace(/^<!(--)?((?:.|\n)*)\1>$/,"$2"):""}textContent(t){return t.children.reduce(((t,e)=>t+("#text"===e.kind?e.value:"#comment"===e.kind?"":this.textContent(e))),"")}innerHTML(t){return this.parser.serializeInner(this,t)}outerHTML(t){return this.parser.serialize(this,t)}serializeXML(t){return this.parser.serialize(this,t,!0)}setAttribute(t,e,n,r=null){"string"!=typeof n&&(n=String(n)),r&&(e=r.replace(/.*\//,"")+":"+e.replace(/^.*:/,"")),t.attributes[e]=n,"style"===e&&(t.styles=null)}getAttribute(t,e){return t.attributes[e]}removeAttribute(t,e){delete t.attributes[e]}hasAttribute(t,e){return Object.hasOwn(t.attributes,e)}allAttributes(t){const e=t.attributes,n=[];for(const t of Object.keys(e))n.push({name:t,value:e[t]});return n}addClass(t,e){const n=(t.attributes.class||"").split(/ /);n.find((t=>t===e))||(n.push(e),t.attributes.class=n.join(" "))}removeClass(t,e){const n=(t.attributes.class||"").split(/ /),r=n.findIndex((t=>t===e));r>=0&&(n.splice(r,1),t.attributes.class=n.join(" "))}hasClass(t,e){return!!(t.attributes.class||"").split(/ /).find((t=>t===e))}setStyle(t,e,n){t.styles||(t.styles=new z(this.getAttribute(t,"style"))),t.styles.set(e,n),t.attributes.style=t.styles.cssText}getStyle(t,e){if(!t.styles){const e=this.getAttribute(t,"style");if(!e)return"";t.styles=new z(e)}return t.styles.get(e)}allStyles(t){return this.getAttribute(t,"style")}insertRules(t,e){t.children=[this.text(this.textContent(t)+"\n\n"+e.join("\n\n"))]}fontSize(t){return 0}fontFamily(t){return""}nodeSize(t,e=1,n=null){return[0,0]}nodeBBox(t){return{left:0,right:0,top:0,bottom:0}}createWorker(t,e){return P(this,void 0,void 0,(function*(){const{Worker:n}=yield $("node:worker_threads");const{path:r,maps:s}=e,i=`${r}/${e.worker}`,a=new class{constructor(t,e={}){this.worker=new n(t,e)}addEventListener(t,e){this.worker.on(t,e)}postMessage(t){this.worker.postMessage({data:t})}terminate(){this.worker.terminate()}}(i,{type:"module",workerData:{maps:s}});return a.addEventListener("message",t),a}))}}class E extends(function(t,e={}){var n;return e=p(d({},m),e),(n=class extends t{constructor(...t){super(t[0]),this.canMeasureNodes=!1;const e=this.constructor;this.options=p(d({},e.OPTIONS),t[1])}fontSize(t){return e.badCSS?this.options.fontSize:super.fontSize(t)}fontFamily(t){return e.badCSS?this.options.fontFamily:super.fontFamily(t)}nodeSize(t,r=1,s=null){if(!e.badSizes)return super.nodeSize(t,r,s);const i=this.textContent(t),a=Array.from(i.replace(n.cjkPattern,"")).length;return[(Array.from(i).length-a)*this.options.cjkCharWidth+a*this.options.unknownCharWidth,this.options.unknownCharHeight]}nodeBBox(t){return e.badSizes?{left:0,right:0,top:0,bottom:0}:super.nodeBBox(t)}}).OPTIONS=Object.assign(Object.assign({},e.badCSS?{fontSize:16,fontFamily:"Times"}:{}),e.badSizes?{cjkCharWidth:1,unknownCharWidth:.6,unknownCharHeight:.8}:{}),n.cjkPattern=new RegExp(["[","\u1100-\u115f","\u2329\u232a","\u2e80-\u303e","\u3040-\u3247","\u3250-\u4dbf","\u4e00-\ua4c6","\ua960-\ua97c","\uac00-\ud7a3","\uf900-\ufaff","\ufe10-\ufe19","\ufe30-\ufe6b","\uff01-\uff60\uffe0-\uffe6","\u{1b000}-\u{1b001}","\u{1f200}-\u{1f251}","\u{20000}-\u{3fffd}","]"].join(""),"gu"),n}(D)){}function I(t=null){return new E(null,t)}MathJax.loader&&MathJax.loader.checkVersion("adaptors/liteDOM","4.0.0-rc.4","adaptors"),c({_:{adaptors:{liteAdaptor:o,lite:{Document:n,Element:e,List:s,Parser:i,Text:r,Window:a}}}}),MathJax.startup&&(MathJax.startup.registerConstructor("liteAdaptor",I),MathJax.startup.useAdaptor("liteAdaptor",!0))})();